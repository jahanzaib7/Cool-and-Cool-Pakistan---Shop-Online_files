{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_CART, REMOVE_FROM_CART, // INCREMENT_QTY,\nDECREMENT_QTY, CLEAR_CART } from \"../constants/ActionTypes\";\nexport default function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cart: []\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      var productId = action.product.id;\n\n      if (state.cart.findIndex(function (product) {\n        return product.id === productId;\n      }) !== -1) {\n        var cart = state.cart.reduce(function (cartAcc, product) {\n          if (product.id === productId) {\n            var _total_Quantity = product.qty + action.qty;\n\n            var _applied_discount = product.price * product.discount / 100 * _total_Quantity;\n\n            var _totalPrice = product.price * _total_Quantity;\n\n            var _grandTotal = _totalPrice - _applied_discount;\n\n            cartAcc.push(_objectSpread({}, product, {\n              qty: product.qty + action.qty,\n              applieddiscount: _applied_discount.toFixed(2),\n              sum: _grandTotal.toFixed(2)\n            })); // Increment qty\n          } else {\n            cartAcc.push(product);\n          }\n\n          return cartAcc;\n        }, []);\n        return _objectSpread({}, state, {\n          cart: cart\n        });\n      }\n\n      var total_Quantity = action.qty;\n      var applied_discount = action.product.price * action.product.discount / 100 * total_Quantity;\n      var totalPrice = action.product.price * total_Quantity;\n      var grandTotal = totalPrice - applied_discount;\n      return _objectSpread({}, state, {\n        cart: _toConsumableArray(state.cart).concat([_objectSpread({}, action.product, {\n          qty: action.qty,\n          applieddiscount: applied_discount,\n          sum: grandTotal\n        })])\n      });\n\n    case DECREMENT_QTY:\n      if (state.cart.findIndex(function (product) {\n        return product.id === action.productId;\n      }) !== -1) {\n        var _cart = state.cart.reduce(function (cartAcc, product) {\n          if (product.id === action.productId && product.qty > 1) {\n            var _total_Quantity2 = product.qty - 1;\n\n            var _applied_discount2 = product.price * product.discount / 100 * _total_Quantity2;\n\n            var _totalPrice2 = product.price * _total_Quantity2;\n\n            var _grandTotal2 = _totalPrice2 - _applied_discount2;\n\n            cartAcc.push(_objectSpread({}, product, {\n              qty: product.qty - 1,\n              applieddiscount: _applied_discount2.toFixed(2),\n              sum: _grandTotal2.toFixed(2)\n            })); // Decrement qty\n          } else {\n            cartAcc.push(product);\n          }\n\n          return cartAcc;\n        }, []);\n\n        return _objectSpread({}, state, {\n          cart: _cart\n        });\n      }\n\n      return _objectSpread({}, state, {\n        cart: _toConsumableArray(state.cart).concat([_objectSpread({}, action.product, {\n          qty: 1,\n          applieddiscount: action.product.price * action.qty,\n          sum: action.product.price - action.product.price * action.qty\n        })])\n      });\n\n    case REMOVE_FROM_CART:\n      return {\n        cart: state.cart.filter(function (item) {\n          return item.id !== action.product_id.id;\n        })\n      };\n\n    case CLEAR_CART:\n      return {\n        cart: action.data\n      };\n\n    default:\n  }\n\n  return state;\n}","map":{"version":3,"sources":["C:\\Users\\D8\\Desktop\\Cool and Cool Pakistan - Shop Online_files\\src\\reducers\\cart.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","DECREMENT_QTY","CLEAR_CART","cartReducer","state","cart","action","type","productId","product","id","findIndex","reduce","cartAcc","total_Quantity","qty","applied_discount","price","discount","totalPrice","grandTotal","push","applieddiscount","toFixed","sum","filter","item","product_id","data"],"mappings":"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","sourcesContent":["import {\r\n    ADD_TO_CART,\r\n    REMOVE_FROM_CART,\r\n    // INCREMENT_QTY,\r\n    DECREMENT_QTY, \r\n    CLEAR_CART} from \"../constants/ActionTypes\";\r\n\r\n\r\nexport default function cartReducer(state = {\r\n    cart: []\r\n}, action) {\r\n    switch (action.type) {\r\n        case ADD_TO_CART:\r\n            const productId = action.product.id\r\n            if (state.cart.findIndex(product => product.id === productId) !== -1) {\r\n                const cart = state.cart.reduce((cartAcc, product) => {\r\n                    if (product.id === productId) {\r\n                     \r\n                        let total_Quantity = product.qty+action.qty;\r\n                        let applied_discount = product.price*product.discount/100*total_Quantity; \r\n                        \r\n\r\n                        let totalPrice = product.price*total_Quantity;\r\n                        let grandTotal = totalPrice - applied_discount;\r\n                        \r\n                        cartAcc.push({ ...product, qty: product.qty+action.qty, applieddiscount:applied_discount.toFixed(2), sum: grandTotal.toFixed(2)}) // Increment qty\r\n                    } else {\r\n                      \r\n                        cartAcc.push(product)\r\n                    }\r\n\r\n                    return cartAcc\r\n                }, [])\r\n\r\n                return { ...state, cart }\r\n            }\r\n       \r\n            let total_Quantity = action.qty;\r\n            let applied_discount = action.product.price*action.product.discount/100*total_Quantity; \r\n            \r\n\r\n            let totalPrice = action.product.price*total_Quantity;\r\n            let grandTotal = totalPrice - applied_discount;\r\n\r\n\r\n\r\n\r\n            return { ...state, cart: [...state.cart, { ...action.product, qty: action.qty, applieddiscount: applied_discount,sum:grandTotal }] }\r\n\r\n        case DECREMENT_QTY:\r\n            \r\n            if (state.cart.findIndex(product => product.id === action.productId) !== -1) {\r\n                const cart = state.cart.reduce((cartAcc, product) => {\r\n                    if (product.id === action.productId && product.qty > 1) {\r\n\r\n                        let total_Quantity = product.qty-1;\r\n                        let applied_discount = product.price*product.discount/100*total_Quantity; \r\n                        \r\n\r\n                        let totalPrice = product.price*total_Quantity;\r\n                        let grandTotal = totalPrice - applied_discount;\r\n                      \r\n                        \r\n\r\n\r\n\r\n                        cartAcc.push({ ...product, qty: product.qty-1,applieddiscount:applied_discount.toFixed(2), sum: grandTotal.toFixed(2) }) // Decrement qty\r\n                    } else {\r\n                        cartAcc.push(product)\r\n                    }\r\n\r\n                    return cartAcc\r\n                }, [])\r\n\r\n                return { ...state, cart }\r\n            }\r\n            \r\n\r\n            return { ...state, cart: [...state.cart, { ...action.product, qty: 1, applieddiscount: action.product.price*action.qty,sum:  action.product.price -(action.product.price*action.qty)  }] }\r\n\r\n        case REMOVE_FROM_CART:\r\n            return {\r\n                cart: state.cart.filter(item => item.id !== action.product_id.id)\r\n            }\r\n\r\n        \r\n        case CLEAR_CART:\r\n                return {\r\n                    cart: action.data\r\n                }\r\n        default:\r\n    }\r\n    return state;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}