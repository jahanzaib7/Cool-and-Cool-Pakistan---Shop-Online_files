{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\src\\\\components\\\\checkout\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { connect } from 'react-redux';\nimport { Link, Redirect } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\nimport SimpleReactValidator from 'simple-react-validator';\nimport store from '../../store';\nimport Iframe from 'react-iframe';\nimport Breadcrumb from \"../common/breadcrumb\";\nimport { removeFromWishlist, placeOrder, GetOrderbyRef, getCoupoun } from '../../actions';\nimport { getCartTotal, getAppliedVAT, getVatTotal, getTotalDiscount } from \"../../services\";\nimport Pace from 'react-pace-progress';\nimport Swal from 'sweetalert2';\n\nvar checkOut =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(checkOut, _Component);\n\n  function checkOut(props) {\n    var _this;\n\n    _classCallCheck(this, checkOut);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(checkOut).call(this, props));\n\n    _this.setStateFromInput = function (event) {\n      var obj = {};\n      obj[event.target.name] = event.target.value;\n\n      _this.setState(obj);\n    };\n\n    _this.setStateFromCheckbox = function (event) {\n      var obj = {};\n      obj[event.target.name] = event.target.checked;\n\n      _this.setState(obj);\n\n      if (!_this.validator.fieldValid(event.target.name)) {\n        _this.validator.showMessages();\n      }\n    };\n\n    _this.StripeClick = function () {\n      if (_this.validator.allValid()) {\n        var productlist = _this.props.cartItems.map(function (e) {\n          return (e.productCode || e.id) + \",\" + e.qty + \",\" + e.price;\n        });\n\n        productlist = _objectSpread({}, productlist);\n        var data = {\n          \"UserId\": _this.props.user.Id || \"\",\n          \"FinalPrice\": _this.props.vatincluded.ordertotal,\n          \"Email\": _this.state.email,\n          \"DiscountedAmount\": _this.props.totalDiscount || 0,\n          \"PaymentMethod\": _this.state.payment,\n          \"DeliveryCharges\": _this.props.settings[_this.props.user.Country || _this.props.country][0].Value,\n          \"ContactPerson\": _this.state.first_name + \" \" + _this.state.last_name,\n          \"ContactNumber\": _this.state.phone,\n          \"ShipmentAddress\": _this.state.address1 + \" \" + _this.state.address2,\n          \"City\": _this.state.city,\n          \"Coupon\": _this.state.IsApplicable ? _this.state.Coupoun : null,\n          \"Country\": _this.props.user.Country || _this.props.country,\n          \"ProductList\": productlist\n        };\n\n        if (typeof _this.props.coupoun === 'object' && _this.props.coupoun !== null && _this.state.IsApplicable) {\n          data.FinalPrice = data.FinalPrice - _this.props.coupoun.Discount.toFixed(2);\n          data.DiscountedAmount = data.DiscountedAmount + _this.props.coupoun.Discount.toFixed(2);\n        }\n\n        if (_this.props.total > _this.props.settings[_this.props.country][0].Limit) {\n          data.DeliveryCharges = 0;\n        }\n\n        store.dispatch(placeOrder(data));\n      } else {\n        _this.validator.showMessages(); // rerender to show messages for the first time\n\n\n        _this.forceUpdate();\n      }\n    };\n\n    _this.coupounApply = function () {\n      var data = {\n        country: _this.props.user.Country || _this.props.country,\n        coupoun: _this.state.Coupoun\n      };\n      store.dispatch(getCoupoun(data));\n    };\n\n    var name = props.user.UserName ? props.user.UserName.split(\" \") : [];\n    _this.state = {\n      payment: 'COD_web',\n      first_name: name[0],\n      last_name: name[1],\n      phone: props.user.Contact,\n      email: props.user.Email,\n      country: props.user.Country,\n      address1: props.user.Address || '',\n      address2: props.user.Address2 || '',\n      city: props.user.City,\n      state: '',\n      create_account: '',\n      FinalPrice: '',\n      isLoading: false,\n      Coupoun: '',\n      IsApplicable: false\n    };\n    _this.validator = new SimpleReactValidator();\n    return _this;\n  }\n\n  _createClass(checkOut, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevprops, prevstate) {\n      var _this2 = this;\n\n      var history = this.props.history;\n\n      if (prevprops.orderRef !== this.props.orderRef) {\n        this.setState({\n          isLoading: true\n        });\n        setTimeout(function () {\n          if (typeof _this2.props.orderRef !== 'object' && _this2.props.orderRef !== null) {\n            //this will run if the order is  placed in the API \n            if (_this2.state.payment === \"COD_web\") {\n              history.push({\n                pathname: '/orderStatus',\n                state: {\n                  payment: _this2.props.orderRef,\n                  items: _this2.props.cartItems,\n                  orderTotal: _this2.props.vatincluded.ordertotal,\n                  symbol: _this2.props.symbol,\n                  vat: _this2.props.vatincluded.appliedvat,\n                  subtotal: _this2.props.total\n                }\n              });\n            } else {\n              var win = window.open('https://portal.coolandcool.ae/MobileApplication/AppOrders/PaymentProcess?OrderId=' + _this2.props.orderRef, 'popup', 'width=600,height=600');\n              var timer = setInterval(function () {\n                if (win.closed) {\n                  clearInterval(timer);\n                  store.dispatch(GetOrderbyRef(_this2.props.orderRef));\n                }\n              }, 1000);\n            }\n          } else {\n            //this will run if the order is not placed in the API \n            history.push({\n              pathname: '/orderFailed',\n              state: {\n                payment: _this2.props.orderRef,\n                items: _this2.props.cartItems,\n                orderTotal: _this2.props.vatincluded.ordertotal,\n                symbol: _this2.props.symbol,\n                vat: _this2.props.vatincluded.appliedvat,\n                subtotal: _this2.props.total\n              }\n            });\n          }\n        }, 1000);\n      }\n\n      ;\n\n      if (prevprops.orderStatusRef !== this.props.orderStatusRef) {\n        if (this.props.orderStatusRef.order_status !== \"Success\") {\n          toast.error(this.props.orderStatusRef.status_message || \"Payment Not Processed, Please Select Other Payment Methods !\");\n        } else {\n          history.push({\n            pathname: '/orderStatus',\n            state: {\n              payment: this.props.orderRef,\n              items: this.props.cartItems,\n              orderTotal: this.props.vatincluded.ordertotal,\n              symbol: this.props.symbol,\n              vat: this.props.vatincluded.appliedvat,\n              subtotal: this.props.total\n            }\n          });\n        }\n      }\n\n      if (prevprops.coupoun !== this.props.coupoun) {\n        if (typeof this.props.coupoun === 'object' && this.props.coupoun !== null) {\n          if (this.props.vatincluded.ordertotal > this.props.coupoun.Threshold) {\n            this.setState({\n              IsApplicable: true\n            });\n            Swal.fire({\n              position: 'center',\n              icon: 'success',\n              title: 'Coupon Applied! ',\n              showConfirmButton: false,\n              toast: true,\n              timer: 1500\n            });\n          } else {\n            this.setState({\n              IsApplicable: false\n            });\n            Swal.fire({\n              position: 'center',\n              icon: 'error',\n              title: 'Total Must be Greater then ' + this.props.coupoun.Threshold,\n              showConfirmButton: false,\n              toast: true,\n              timer: 1500\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"checkhandle\",\n    value: function checkhandle(value) {\n      this.setState({\n        payment: value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          cartItems = _this$props.cartItems,\n          symbol = _this$props.symbol,\n          total = _this$props.total; // Paypal Integration\n\n      var onSuccess = function onSuccess(payment) {\n        console.log(\"The payment was succeeded!\", payment);\n\n        _this3.props.history.push({\n          pathname: '/order-success',\n          state: {\n            payment: payment,\n            items: cartItems,\n            orderTotal: total,\n            symbol: symbol\n          }\n        });\n      };\n\n      var onCancel = function onCancel(data) {\n        console.log('The payment was cancelled!', data);\n      };\n\n      var onError = function onError(err) {\n        console.log(\"Error!\", err);\n      };\n\n      var client = {\n        sandbox: 'AZ4S98zFa01vym7NVeo_qthZyOnBhtNvQDsjhaZSMH-2_Y9IAJFbSD3HPueErYqN8Sa8WYRbjP7wWtd_',\n        production: 'AZ4S98zFa01vym7NVeo_qthZyOnBhtNvQDsjhaZSMH-2_Y9IAJFbSD3HPueErYqN8Sa8WYRbjP7wWtd_'\n      };\n      var _this$props2 = this.props,\n          country = _this$props2.country,\n          coupoun = _this$props2.coupoun;\n      var grandTotal = (this.props.vatincluded.ordertotalwitoutVAT - this.props.vatincluded.ordertotalwitoutVAT * coupoun.Discount / 100 + this.props.vatincluded.appliedvat).toFixed(2);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(Helmet, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, \"Wovista  | CheckOut Page\")), this.state.isLoading ? React.createElement(Pace, {\n        color: \"#27ae60\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }) : null, React.createElement(\"section\", {\n        class: \"section-b-space\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"container padding-cls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"checkout-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"checkout-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"checkout row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-lg-6 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"checkout-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Address Details\")), React.createElement(\"div\", {\n        class: \"row check-out\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group col-md-6 col-sm-6 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"field-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"First Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"first_name\",\n        value: this.state.first_name,\n        onChange: this.setStateFromInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }), this.validator.message('first_name', this.state.first_name, 'required')), React.createElement(\"div\", {\n        class: \"form-group col-md-6 col-sm-6 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"field-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"Last Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"last_name\",\n        value: this.state.last_name,\n        onChange: this.setStateFromInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }), this.validator.message('last_name', this.state.last_name, 'required')), React.createElement(\"div\", {\n        class: \"form-group col-md-6 col-sm-6 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"field-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, \"Phone\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"phone\",\n        value: this.state.phone,\n        onChange: this.setStateFromInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }), this.validator.message('phone', this.state.phone, 'required|phone')), React.createElement(\"div\", {\n        class: \"form-group col-md-6 col-sm-6 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"field-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, \"Email Address\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        value: this.state.email,\n        onChange: this.setStateFromInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }), this.validator.message('email', this.state.email, 'required|email')), React.createElement(\"div\", {\n        class: \"form-group col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"field-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, \"Address 1\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"address1\",\n        value: this.state.address1,\n        onChange: this.setStateFromInput,\n        placeholder: \" Address 2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }), this.validator.message('address1', this.state.address1, 'required')), React.createElement(\"div\", {\n        class: \"form-group col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"field-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, \"Address 2\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"address2\",\n        value: this.state.address2,\n        onChange: this.setStateFromInput,\n        placeholder: \"Address 2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }), this.validator.message('address2', this.state.address2, 'required')), React.createElement(\"div\", {\n        class: \"form-group col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"field-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, \"Town/City\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"city\",\n        value: this.state.city,\n        onChange: this.setStateFromInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }), this.validator.message('city', this.state.city, 'required')))), React.createElement(\"div\", {\n        class: \"col-lg-6 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"checkout-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"order-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, \"Product \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, \" Total\"))), React.createElement(\"ul\", {\n        class: \"qty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, cartItems.map(function (item, index) {\n        return item.discount ? React.createElement(\"div\", {\n          class: \"mt-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          key: index,\n          class: \"qtyli m-0 text-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        }, item.name, \" \\xD7 \", item.qty, \" \", React.createElement(\"span\", {\n          class: \"qtyli\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        }, symbol, \" \", item.price * item.qty)), React.createElement(\"li\", {\n          key: index,\n          class: \"discounted m-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        }, \"Applied Discount \", item.discount, \"%: \", React.createElement(\"span\", {\n          class: \"discounted ml-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        }, symbol, \" \", item.applieddiscount)), React.createElement(\"li\", {\n          key: index,\n          class: \"discounted m-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330\n          },\n          __self: this\n        }, \"Total: \", React.createElement(\"span\", {\n          class: \"discounted ml-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330\n          },\n          __self: this\n        }, symbol, \" \", item.sum))) : React.createElement(\"div\", {\n          class: \"mt-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          key: index,\n          class: \"qtyli m-0 text-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        }, item.name, \" \\xD7 \", item.qty, \" \", React.createElement(\"span\", {\n          class: \"qtyli\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        }, symbol, \" \", item.price * item.qty)));\n      })), React.createElement(\"ul\", {\n        class: \"sub-total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, \"Subtotal \", React.createElement(\"span\", {\n        class: \"count text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, symbol, total)), total > this.props.settings[country][0].Limit ? '' : React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, this.props.settings[country][0].Name, \" \", React.createElement(\"span\", {\n        class: \"count text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, symbol, this.props.settings[country][0].Value)), this.props.vatincluded.vat > 0 ? React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, this.props.settings[country][1].Name, \" \", this.props.vatincluded.vat, \"% \", React.createElement(\"span\", {\n        class: \"count text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, symbol, this.props.vatincluded.appliedvat)) : \"\"), React.createElement(\"ul\", {\n        class: \"total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, typeof coupoun === 'object' && coupoun !== null && this.state.IsApplicable ? coupoun.IsAmount ? React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, \"Applied Discount \", React.createElement(\"span\", {\n        class: \"count text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, symbol, coupoun.Discount.toFixed(2))) : React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, \"Applied Discount \", React.createElement(\"span\", {\n        class: \"count text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, symbol, (this.props.vatincluded.ordertotalwitoutVAT * coupoun.Discount / 100).toFixed(2))) : \"\", React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, typeof coupoun === 'object' && coupoun !== null && this.state.IsApplicable ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, \"Total \", React.createElement(\"span\", {\n        class: \"count text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, React.createElement(\"del\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }, symbol, this.props.vatincluded.ordertotalwitoutVAT.toFixed(2)), symbol, grandTotal)) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, \"Total \", React.createElement(\"span\", {\n        class: \"count text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, symbol, this.props.vatincluded.ordertotal.toFixed(2)))))), this.props.settings[country][2].Value > 0 ? React.createElement(\"div\", {\n        class: \"payment-box row couponbob\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, \"Get discounts if you have Coupons \")), React.createElement(\"input\", {\n        class: \"col-md-12 col-sm-12 col-xs-12\",\n        type: \"text\",\n        name: \"Coupoun\",\n        value: this.state.Coupoun,\n        onChange: this.setStateFromInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }), \" \", React.createElement(\"a\", {\n        type: \"button\",\n        class: \"btn-solid coupoun mt-3 col-md-3 offset-md-10\",\n        style: {\n          borderRadius: 6,\n          textAlign: 'center'\n        },\n        onClick: function onClick() {\n          return _this3.coupounApply();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, \"Apply Coupon\"), React.createElement(\"div\", {\n        class: \"mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          fontSize: \"11px\",\n          color: \"orange\",\n          fontWeight: \" 600\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }, \"NOTE* Coupons codes are valid on full priced items only . \"))) : '', React.createElement(\"div\", {\n        class: \"payment-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"upper-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"payment-options\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"radio-option stripe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"\".concat(process.env.PUBLIC_URL, \"/assets/images/1.png\"),\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"payment-group\",\n        id: \"payment-2\",\n        defaultChecked: true,\n        onClick: function onClick() {\n          return _this3.checkhandle('COD_web');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"payment-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, \"Cash On Delivery\"))), country === \"Pakistan\" ? React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"radio-option paypal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"\".concat(process.env.PUBLIC_URL, \"/assets/images/2.png\"),\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"payment-group\",\n        id: \"payment-1\",\n        onClick: function onClick() {\n          return _this3.checkhandle('CCAvenue_web');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"payment-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, \"Credit/ Debit Card \", React.createElement(\"span\", {\n        class: \"image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      })))) : ''))), total !== 0 ? Object.keys(this.props.user).length === 0 ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, this.state.payment === 'CCAvenue_web' ? React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn-solid btn\",\n        onClick: function onClick() {\n          return _this3.StripeClick();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, \"Checkout as a Guest\") : React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn-solid btn\",\n        onClick: function onClick() {\n          return _this3.StripeClick();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, \"Checkout as a Guest\"), \"OR\", React.createElement(Link, {\n        class: \"btn-solid btn\",\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }, \"Sign In\"))) : React.createElement(\"div\", {\n        class: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, this.state.payment === 'CCAvenue_web' ? React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn-solid btn\",\n        onClick: function onClick() {\n          return _this3.StripeClick();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }, \"Place Order\") : React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn-solid btn\",\n        onClick: function onClick() {\n          return _this3.StripeClick();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, \"Place Order\")) : ''))))))))));\n    }\n  }]);\n\n  return checkOut;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    cartItems: state.cartList.cart,\n    symbol: state.data.symbol,\n    total: getCartTotal(state.cartList.cart),\n    user: state.user.user,\n    country: state.filters.country,\n    orderRef: state.user.orderRef,\n    settings: state.data.settings,\n    vatincluded: getAppliedVAT(state.data.settings[state.filters.country][1].Value, getCartTotal(state.cartList.cart), state.data.settings[state.filters.country][0], state.user.coupoun),\n    totalDiscount: getTotalDiscount(state.cartList.cart),\n    orderStatusRef: state.user.orderStatus,\n    coupoun: state.user.coupoun\n  };\n};\n\nexport default connect(mapStateToProps, {\n  removeFromWishlist: removeFromWishlist\n})(checkOut);","map":{"version":3,"sources":["C:\\Users\\D8\\Desktop\\Cool and Cool Pakistan - Shop Online_files\\src\\components\\checkout\\index.jsx"],"names":["React","Component","Helmet","connect","Link","Redirect","ToastContainer","toast","PaypalExpressBtn","SimpleReactValidator","store","Iframe","Breadcrumb","removeFromWishlist","placeOrder","GetOrderbyRef","getCoupoun","getCartTotal","getAppliedVAT","getVatTotal","getTotalDiscount","Pace","Swal","checkOut","props","setStateFromInput","event","obj","target","name","value","setState","setStateFromCheckbox","checked","validator","fieldValid","showMessages","StripeClick","allValid","productlist","cartItems","map","e","productCode","id","qty","price","data","user","Id","vatincluded","ordertotal","state","email","totalDiscount","payment","settings","Country","country","Value","first_name","last_name","phone","address1","address2","city","IsApplicable","Coupoun","coupoun","FinalPrice","Discount","toFixed","DiscountedAmount","total","Limit","DeliveryCharges","dispatch","forceUpdate","coupounApply","UserName","split","Contact","Email","Address","Address2","City","create_account","isLoading","prevprops","prevstate","history","orderRef","setTimeout","push","pathname","items","orderTotal","symbol","vat","appliedvat","subtotal","win","window","open","timer","setInterval","closed","clearInterval","orderStatusRef","order_status","error","status_message","Threshold","fire","position","icon","title","showConfirmButton","onSuccess","console","log","onCancel","onError","err","client","sandbox","production","grandTotal","ordertotalwitoutVAT","message","item","index","discount","applieddiscount","sum","Name","IsAmount","borderRadius","textAlign","fontSize","color","fontWeight","process","env","PUBLIC_URL","checkhandle","Object","keys","length","mapStateToProps","cartList","cart","filters","orderStatus"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Helmet} from 'react-helmet'\r\nimport { connect } from 'react-redux'\r\nimport {Link, Redirect } from 'react-router-dom'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\nimport SimpleReactValidator from 'simple-react-validator';\r\nimport store from '../../store';\r\nimport Iframe from 'react-iframe'\r\nimport Breadcrumb from \"../common/breadcrumb\";\r\nimport {removeFromWishlist,placeOrder,GetOrderbyRef,getCoupoun} from '../../actions'\r\nimport {getCartTotal,getAppliedVAT,getVatTotal,getTotalDiscount} from \"../../services\";\r\nimport Pace from 'react-pace-progress'\r\nimport Swal from 'sweetalert2'\r\nclass checkOut extends Component {\r\n\r\n    constructor (props) {\r\n        super (props)\r\n        \r\n        var name = props.user.UserName? props.user.UserName.split(\" \") : [];\r\n        this.state = {\r\n            payment:'COD_web',\r\n            first_name:name[0],\r\n            last_name:name[1],\r\n            phone:props.user.Contact,\r\n            email:props.user.Email,\r\n            country:props.user.Country,\r\n            address1:props.user.Address || '',\r\n            address2:props.user.Address2 || '', \r\n            city:props.user.City,\r\n            state:'',\r\n            create_account: '',\r\n            FinalPrice:'',\t\r\n            isLoading:false,\r\n            Coupoun:'',\r\n            IsApplicable:false            \r\n\r\n   \r\n\r\n        }\r\n        this.validator = new SimpleReactValidator();\r\n    }\r\n        \r\n    componentDidUpdate(prevprops,prevstate){\r\n        const {history} = this.props;\r\n        if(prevprops.orderRef !== this.props.orderRef){\r\n      \r\n         this.setState({isLoading: true});\r\n         setTimeout(() => {\r\n        if(typeof this.props.orderRef !== 'object' && this.props.orderRef !== null) {   \r\n             //this will run if the order is  placed in the API \r\n            if(this.state.payment === \"COD_web\"){\r\n                    history.push({\r\n                        pathname: '/orderStatus',\r\n                        state: { payment: this.props.orderRef, items: this.props.cartItems, orderTotal: this.props.vatincluded.ordertotal, symbol: this.props.symbol,vat:this.props.vatincluded.appliedvat,subtotal:this.props.total }\r\n                        });\r\n            }else{\r\n                var win = window.open('https://portal.coolandcool.ae/MobileApplication/AppOrders/PaymentProcess?OrderId='+this.props.orderRef,'popup','width=600,height=600');\r\n                var timer = setInterval(() => { \r\n                    if(win.closed) {\r\n                        clearInterval(timer);\r\n                        store.dispatch(GetOrderbyRef(this.props.orderRef));\r\n                    }\r\n                }, 1000);\r\n                }\r\n            }\r\n            else{\r\n\r\n                //this will run if the order is not placed in the API \r\n                history.push({\r\n                    pathname: '/orderFailed',\r\n                    state: { payment: this.props.orderRef, items: this.props.cartItems, orderTotal: this.props.vatincluded.ordertotal, symbol: this.props.symbol,vat:this.props.vatincluded.appliedvat,subtotal:this.props.total }\r\n                    });\r\n            }\r\n        },1000);\r\n        };\r\n\r\n\r\n\r\n        if(prevprops.orderStatusRef !== this.props.orderStatusRef){\r\n             if(this.props.orderStatusRef.order_status !== \"Success\"){\r\n                toast.error(this.props.orderStatusRef.status_message || \"Payment Not Processed, Please Select Other Payment Methods !\")\r\n             }else{\r\n            history.push({\r\n                pathname: '/orderStatus',\r\n                state: { payment: this.props.orderRef, items: this.props.cartItems, orderTotal: this.props.vatincluded.ordertotal, symbol: this.props.symbol,vat:this.props.vatincluded.appliedvat,subtotal:this.props.total }\r\n                });\r\n            }\r\n        }\r\n\r\n        if(prevprops.coupoun !== this.props.coupoun ){\r\n           if(typeof this.props.coupoun === 'object' && this.props.coupoun !== null){\r\n               if(this.props.vatincluded.ordertotal > this.props.coupoun.Threshold){\r\n                this.setState({IsApplicable: true});\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'success',\r\n                    title: 'Coupon Applied! ',\r\n                    showConfirmButton: false,\r\n                    toast: true,\r\n                    timer: 1500\r\n                })\r\n               }else{\r\n                this.setState({IsApplicable: false});\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'error',\r\n                    title: 'Total Must be Greater then ' + this.props.coupoun.Threshold,\r\n                    showConfirmButton: false,\r\n                    toast: true,\r\n                    timer: 1500\r\n                })\r\n               }\r\n       \r\n            }\r\n        \r\n\r\n        }\r\n\r\n        \r\n    }\r\n    componentDidMount(){\r\n    \r\n    \r\n    }\r\n    setStateFromInput = (event) => {\r\n        var obj = {};\r\n        obj[event.target.name] = event.target.value;\r\n        this.setState(obj);\r\n\r\n      }\r\n\r\n      setStateFromCheckbox = (event) => {\r\n\r\n          var obj = {};\r\n          obj[event.target.name] = event.target.checked;\r\n          this.setState(obj);\r\n\r\n          if(!this.validator.fieldValid(event.target.name))\r\n          {\r\n              this.validator.showMessages();\r\n          }\r\n        }\r\n\r\n    checkhandle(value) {\r\n        this.setState({\r\n            payment: value\r\n        })\r\n    }\r\n\r\n    StripeClick = () => {\r\n        if (this.validator.allValid()) {\r\n         \r\n\r\n            var productlist = this.props.cartItems.map(e =>{\r\n                return (e.productCode || e.id) +\",\"+e.qty+\",\"+e.price;\r\n            });\r\n            productlist = {...productlist};\r\n           \r\n            var data = {\r\n                \"UserId\": this.props.user.Id || \"\" ,\r\n                \"FinalPrice\":this.props.vatincluded.ordertotal,\r\n                \"Email\": this.state.email,\r\n                \"DiscountedAmount\": this.props.totalDiscount || 0,\r\n                \"PaymentMethod\": this.state.payment,\r\n                \"DeliveryCharges\": this.props.settings[this.props.user.Country || this.props.country][0].Value,\r\n                \"ContactPerson\": this.state.first_name+\" \"+this.state.last_name,\r\n                \"ContactNumber\": this.state.phone,\r\n                \"ShipmentAddress\": this.state.address1 + \" \" + this.state.address2,\r\n                \"City\": this.state.city,\r\n                \"Coupon\": (this.state.IsApplicable) ? this.state.Coupoun : null,\r\n                \"Country\":  this.props.user.Country || this.props.country,\r\n                \"ProductList\":productlist,\r\n            };\r\n\r\n\r\n\r\n            \r\n            if(typeof this.props.coupoun === 'object' && this.props.coupoun !== null && this.state.IsApplicable) {\r\n                data.FinalPrice = data.FinalPrice - this.props.coupoun.Discount.toFixed(2);\r\n                data.DiscountedAmount =  data.DiscountedAmount + this.props.coupoun.Discount.toFixed(2);\r\n            }\r\n            if(this.props.total >  this.props.settings[this.props.country][0].Limit){\r\n                data.DeliveryCharges = 0;\r\n            }\r\n\r\n            store.dispatch(placeOrder(data));\r\n\r\n        } else {\r\n          this.validator.showMessages();\r\n          // rerender to show messages for the first time\r\n          this.forceUpdate();\r\n        }\r\n    }\r\n\r\n    coupounApply = () => {\r\n\r\n        var data = {\r\n            country:this.props.user.Country || this.props.country,\r\n            coupoun:this.state.Coupoun\r\n        };\r\n\r\n    store.dispatch(getCoupoun(data));\r\n    }\r\n\r\n    render (){\r\n        const {cartItems, symbol, total} = this.props;\r\n\r\n        // Paypal Integration\r\n        const onSuccess = (payment) => {\r\n            console.log(\"The payment was succeeded!\", payment);\r\n            this.props.history.push({\r\n                pathname: '/order-success',\r\n                    state: { payment: payment, items: cartItems, orderTotal: total, symbol: symbol }\r\n            })\r\n\r\n        }\r\n\r\n        const onCancel = (data) => {\r\n            console.log('The payment was cancelled!', data);\r\n        }\r\n\r\n        const onError = (err) => {\r\n            console.log(\"Error!\", err);\r\n        }\r\n\r\n        const client = {\r\n            sandbox:    'AZ4S98zFa01vym7NVeo_qthZyOnBhtNvQDsjhaZSMH-2_Y9IAJFbSD3HPueErYqN8Sa8WYRbjP7wWtd_',\r\n            production: 'AZ4S98zFa01vym7NVeo_qthZyOnBhtNvQDsjhaZSMH-2_Y9IAJFbSD3HPueErYqN8Sa8WYRbjP7wWtd_',\r\n        }\r\n        const {country,coupoun} = this.props;\r\n       var grandTotal =  (this.props.vatincluded.ordertotalwitoutVAT-(this.props.vatincluded.ordertotalwitoutVAT*coupoun.Discount/100)+this.props.vatincluded.appliedvat).toFixed(2);\r\n     \r\n        return (\r\n\r\n\r\n            <div>\r\n               \r\n                {/*SEO Support*/}\r\n                <Helmet>\r\n                    <title>Wovista  | CheckOut Page</title>\r\n                  \r\n                </Helmet>\r\n                {/*SEO Support End */}\r\n\r\n                {this.state.isLoading ? <Pace color=\"#27ae60\"/> : null}\r\n\r\n                <section class=\"section-b-space\">\r\n                    <div class=\"container padding-cls\">\r\n                        <div class=\"checkout-page\">\r\n                            <div class=\"checkout-form\">\r\n                                <form>\r\n                                    <div class=\"checkout row\">\r\n                                        <div class=\"col-lg-6 col-sm-12 col-xs-12\">\r\n                                            <div class=\"checkout-title\">\r\n                                                <h3>Address Details</h3>\r\n                                            </div>\r\n                                            <div class=\"row check-out\">\r\n                                                <div class=\"form-group col-md-6 col-sm-6 col-xs-12\">\r\n                                                    <div class=\"field-label\">First Name</div>\r\n                                                    <input type=\"text\" name=\"first_name\" value={this.state.first_name} onChange={this.setStateFromInput} />\r\n                                                    {this.validator.message('first_name', this.state.first_name, 'required')}\r\n                                                </div>\r\n                                                <div class=\"form-group col-md-6 col-sm-6 col-xs-12\">\r\n                                                    <div class=\"field-label\">Last Name</div>\r\n                                                    <input type=\"text\" name=\"last_name\" value={this.state.last_name} onChange={this.setStateFromInput} />\r\n                                                    {this.validator.message('last_name', this.state.last_name, 'required')}\r\n                                                </div>\r\n                                                <div class=\"form-group col-md-6 col-sm-6 col-xs-12\">\r\n                                                    <div class=\"field-label\">Phone</div>\r\n                                                    <input type=\"text\" name=\"phone\"  value={this.state.phone} onChange={this.setStateFromInput} />\r\n                                                    {this.validator.message('phone', this.state.phone, 'required|phone')}\r\n                                                </div>\r\n                                                <div class=\"form-group col-md-6 col-sm-6 col-xs-12\">\r\n                                                    <div class=\"field-label\">Email Address</div>\r\n                                                    <input type=\"text\" name=\"email\" value={this.state.email} onChange={this.setStateFromInput} />\r\n                                                    {this.validator.message('email', this.state.email, 'required|email')}\r\n                                                </div>\r\n                                                {/* <div class=\"form-group col-md-12 col-sm-12 col-xs-12\">\r\n                                                    <div class=\"field-label\">Country</div>\r\n                                                    <select name=\"country\" value={this.state.country} onChange={this.setStateFromInput}>\r\n                                                        <option>UAE</option>\r\n                                                        <option>PAKISTAN</option>\r\n                                                   \r\n                                                    </select>\r\n                                                    {this.validator.message('country', this.state.country, 'required')}\r\n                                                </div> */}\r\n                                                <div class=\"form-group col-md-12 col-sm-12 col-xs-12\">\r\n                                                    <div class=\"field-label\">Address 1</div>\r\n                                                    <input type=\"text\" name=\"address1\" value={this.state.address1} onChange={this.setStateFromInput} placeholder=\" Address 2\" />\r\n                                                    {this.validator.message('address1', this.state.address1, 'required')}\r\n                                                </div>\r\n                                                <div class=\"form-group col-md-12 col-sm-12 col-xs-12\">\r\n                                                    <div class=\"field-label\">Address 2</div>\r\n                                                    <input type=\"text\" name=\"address2\" value={this.state.address2} onChange={this.setStateFromInput} placeholder=\"Address 2\" />\r\n                                                    {this.validator.message('address2', this.state.address2, 'required')}\r\n                                                </div>\r\n                                                <div class=\"form-group col-md-12 col-sm-12 col-xs-12\">\r\n                                                    <div class=\"field-label\">Town/City</div>\r\n                                                    <input type=\"text\" name=\"city\" value={this.state.city} onChange={this.setStateFromInput} />\r\n                                                    {this.validator.message('city', this.state.city, 'required')}\r\n                                                </div>\r\n                                                {/* <div class=\"form-group col-md-12 col-sm-6 col-xs-12\">\r\n                                                    <div class=\"field-label\">State / County</div>\r\n                                                    <input type=\"text\" name=\"state\" value={this.state.state} onChange={this.setStateFromInput} />\r\n                                                    {this.validator.message('state', this.state.state, 'required|')}\r\n                                                </div> */}\r\n                                                {/* <div class=\"form-group col-md-12 col-sm-6 col-xs-12\">\r\n                                                    <div class=\"field-label\">Postal Code</div>\r\n                                                    <input type=\"text\" name=\"pincode\" value={this.state.spincode} onChange={this.setStateFromInput} />\r\n                                                    {this.validator.message('pincode', this.state.pincode, 'required|integer')}\r\n                                                </div> */}\r\n                                        \r\n                                  \r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-lg-6 col-sm-12 col-xs-12\">\r\n                                            <div class=\"checkout-details\">\r\n                                                <div class=\"order-box\">\r\n                                                    <div class=\"title-box\">\r\n                                                        <div>Product <span> Total</span></div>\r\n                                                    </div>\r\n                                                    <ul class=\"qty\">\r\n                                                        {cartItems.map((item, index) => {\r\n                                                            return (\r\n                                                                (item.discount) ? \r\n                                                                    <div class=\"mt-2\">\r\n                                                                        <li key={index} class=\"qtyli m-0 text-left\">{item.name}  {item.qty} <span class=\"qtyli\">{symbol} {item.price * item.qty}</span></li> \r\n                                                                        <li key={index} class=\"discounted m-0\">Applied Discount {item.discount}%: <span class=\"discounted ml-2\">{symbol} {item.applieddiscount}</span></li>\r\n                                                                        <li key={index} class=\"discounted m-0\">Total: <span class=\"discounted ml-2\">{symbol} {item.sum}</span></li>\r\n                                                                    </div>\r\n                                                                    :\r\n                                                                    <div class=\"mt-2\">\r\n                                                                    <li key={index} class=\"qtyli m-0 text-left\">{item.name}  {item.qty} <span class=\"qtyli\">{symbol} {item.price * item.qty}</span></li> \r\n                         \r\n                                                                    </div>\r\n\r\n                                                                      ) \r\n                                                                    })\r\n                                                        }\r\n                                                    </ul>\r\n                                                    <ul class=\"sub-total\">\r\n                                                       \r\n                                                        <li>Subtotal <span class=\"count text-right\">{symbol}{total}</span></li>\r\n                                                        {(total > this.props.settings[country][0].Limit)? '' :\r\n                                                        <li >{this.props.settings[country][0].Name} <span class=\"count text-right\">{symbol}{this.props.settings[country][0].Value}</span></li>\r\n                                                    }\r\n                                                      { (this.props.vatincluded.vat > 0) ? \r\n                                                            <li>{this.props.settings[country][1].Name} {this.props.vatincluded.vat}% <span class=\"count text-right\">{symbol}{this.props.vatincluded.appliedvat}</span></li> :\"\"}\r\n                                                        \r\n                                                        \r\n                                                    </ul>\r\n\r\n                                                    <ul class=\"total\">\r\n                                                    {\r\n                                                            (typeof coupoun === 'object' && coupoun !== null && this.state.IsApplicable) ? \r\n                                                              (coupoun.IsAmount)\r\n                                                              ?\r\n                                                              <li>Applied Discount <span class=\"count text-right\">{symbol}{coupoun.Discount.toFixed(2)}</span></li>\r\n                                                                :\r\n                                                              \r\n                                                                <li>Applied Discount <span class=\"count text-right\">{symbol}{(this.props.vatincluded.ordertotalwitoutVAT*coupoun.Discount/100).toFixed(2)}</span></li>\r\n                                                            : \r\n                                                            \"\"\r\n                                                        }\r\n                                                        \r\n                                                        <li>\r\n                                                        {\r\n                                                        (typeof coupoun === 'object' && coupoun !== null && this.state.IsApplicable) ? \r\n                                                        <div>\r\n                                                            Total <span class=\"count text-right\"><del>{symbol}{this.props.vatincluded.ordertotalwitoutVAT.toFixed(2)}</del>{symbol}{grandTotal}</span>\r\n                                                        </div>\r\n                                                         : \r\n                                                        <div>\r\n                                                            Total <span class=\"count text-right\">{symbol}{this.props.vatincluded.ordertotal.toFixed(2)}</span>\r\n                                                        </div>\r\n                                                        }\r\n                                                            \r\n                                                        </li>\r\n                                                   \r\n                                                      \r\n                                                    </ul>\r\n                                                </div>\r\n                                                {(this.props.settings[country][2].Value > 0?  \r\n                                                    <div class=\"payment-box row couponbob\">\r\n                                                        <div class=\"title-box\">\r\n                                                            <div>Get discounts if you have Coupons </div>\r\n                                                        </div>\r\n                                                        <input class=\"col-md-12 col-sm-12 col-xs-12\" type=\"text\" name=\"Coupoun\" value={this.state.Coupoun} onChange={this.setStateFromInput} /> <a type=\"button\" class=\"btn-solid coupoun mt-3 col-md-3 offset-md-10\" style={{borderRadius:6,textAlign:'center'}} onClick={() => this.coupounApply()} >Apply Coupon</a>\r\n                                                        <div class=\"mt-2\">\r\n                                                            <div style={{\r\n                                                     \r\n                                                                fontSize: \"11px\",\r\n                                                                color: \"orange\",\r\n                                                                fontWeight:\" 600\"\r\n                                                            }\r\n                                                            }>NOTE* Coupons codes are valid on full priced items only . </div>\r\n                                                        </div>\r\n                                                    \r\n                                                    </div>\r\n                                                :'')}\r\n                                              \r\n                                                <div class=\"payment-box\">\r\n                                                    <div class=\"upper-box\">\r\n                                                        <div class=\"payment-options\">\r\n                                                            <ul>\r\n                                                                <li>\r\n                                                                    <div class=\"radio-option stripe\">\r\n                                                                    <img src={`${process.env.PUBLIC_URL}/assets/images/1.png`} alt=\"\"/>\r\n                                                                        <input type=\"radio\" name=\"payment-group\" id=\"payment-2\" defaultChecked={true} onClick={() => this.checkhandle('COD_web')} />\r\n                                                                      \r\n                                                                        <label htmlFor=\"payment-2\">Cash On Delivery</label>\r\n                                                                     \r\n                                                                    </div>\r\n                                                                </li>\r\n                                                                {(country === \"Pakistan\") ? \r\n                                                                    <li>\r\n                                                                      <div class=\"radio-option paypal\">\r\n                                                                      <img src={`${process.env.PUBLIC_URL}/assets/images/2.png`} alt=\"\"/>\r\n                                                                          <input type=\"radio\" name=\"payment-group\" id=\"payment-1\" onClick={() => this.checkhandle('CCAvenue_web')} />\r\n                                                                        \r\n                                                                          <label htmlFor=\"payment-1\">Credit/ Debit Card <span class=\"image\"></span></label>\r\n                                                                         \r\n                                                                      </div>\r\n                                                                  </li>\r\n                                                                : ''}\r\n                                                          \r\n                                                            </ul>\r\n                                                        </div>\r\n                                                    </div>\r\n                                               \r\n                                                    {(total !== 0)?\r\n                                                       Object.keys(this.props.user).length === 0 ? \r\n                                                       <div>\r\n                                                 \r\n                                                       <div class=\"text-right\">\r\n                                                       {(this.state.payment === 'CCAvenue_web')? <button type=\"button\" class=\"btn-solid btn\" onClick={() => this.StripeClick()} >Checkout as a Guest</button>:\r\n                                                       <button type=\"button\" class=\"btn-solid btn\" onClick={() => this.StripeClick()} >Checkout as a Guest</button>}\r\n                                                        OR \r\n                                                        <Link class=\"btn-solid btn\" to={`/login`} >Sign In</Link>\r\n        \r\n\r\n                                                       </div>\r\n                                                       </div>\r\n                                                       :\r\n\r\n                                                       <div class=\"text-right\">\r\n                                                           {(this.state.payment === 'CCAvenue_web')? <button type=\"button\" class=\"btn-solid btn\" onClick={() => this.StripeClick()} >Place Order</button>:\r\n                                                           <button type=\"button\" class=\"btn-solid btn\" onClick={() => this.StripeClick()} >Place Order</button>}\r\n                                                       </div>\r\n                                                    : ''}\r\n\r\n\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                 \r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    cartItems: state.cartList.cart,\r\n    symbol: state.data.symbol,\r\n    total: getCartTotal(state.cartList.cart),\r\n    user:state.user.user,\r\n    country:state.filters.country,\r\n    orderRef:state.user.orderRef,\r\n    settings:state.data.settings,\r\n    vatincluded:getAppliedVAT(state.data.settings[state.filters.country][1].Value,getCartTotal(state.cartList.cart),state.data.settings[state.filters.country][0],state.user.coupoun),\r\n    totalDiscount : getTotalDiscount(state.cartList.cart),\r\n    \r\n    orderStatusRef: state.user.orderStatus,\r\n    coupoun:state.user.coupoun\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {removeFromWishlist}\r\n)(checkOut)"]},"metadata":{},"sourceType":"module"}