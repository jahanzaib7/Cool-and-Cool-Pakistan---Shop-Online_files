{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\D8\\\\Desktop\\\\Cool and Cool Pakistan - Shop Online_files\\\\src\\\\components\\\\pages\\\\login.js\";\nimport React, { useReducer, useState, useEffect } from 'react';\nimport store from '../../store';\nimport { custSignIn, userLoggedIn, socialLogin } from '../../actions';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport SocialButton from './SocialButton';\nimport \"./login.css\";\nimport axios from 'axios';\nimport FormData from \"form-data\";\nimport { Api_Url, login_url } from '../../constants/Endpoints';\nimport { toast } from 'react-toastify';\n\nvar handleSocialLogin = function handleSocialLogin(user) {\n  var data = {\n    Email: user._profile.email,\n    Token: user._token.accessToken,\n    Channel: user._provider //store.dispatch(socialLogin(data,this.props.country));\n\n  };\n  store.dispatch(socialLogin(data));\n};\n\nvar handleSocialLoginFailure = function handleSocialLoginFailure(err) {\n  console.error(err);\n};\n\nvar formReducer = function formReducer(state, event) {\n  return _objectSpread({}, state, _defineProperty({}, event.name, event.value));\n};\n\nfunction signForm(props) {\n  var user = props.user,\n      history = props.history;\n  useEffect(function () {\n    if (Object.keys(user).length !== 0) {\n      props.history.goBack();\n    }\n  }, [props.user]);\n\n  var _useReducer = useReducer(formReducer, {}),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      formData = _useReducer2[0],\n      setFormData = _useReducer2[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      submitting = _useState2[0],\n      setSubmitting = _useState2[1];\n\n  var handleSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(event) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              store.dispatch(custSignIn(formData));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      emailLogin = _useState4[0],\n      setEmailLogin = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      passwordLogin = _useState6[0],\n      setPasswordLogin = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loginData = _useState8[0],\n      setLoginData = _useState8[1];\n\n  var LoginWeb = function LoginWeb() {\n    console.log(\"email ==> \", emailLogin);\n    console.log(\"password ==> \", passwordLogin);\n    var data = new FormData();\n    data.append('email', emailLogin);\n    data.append('password', passwordLogin);\n    var config = {\n      method: 'post',\n      url: Api_Url + login_url,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: data\n    };\n    axios(config).then(function (response) {\n      // console.log(JSON.stringify(response.data));\n      setLoginData(JSON.stringify(response.data));\n    }).catch(function (error) {\n      console.log(error);\n      toast.error('ðŸ¦„ Wow so easy!', {\n        bodyClassName: 'toast',\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        progress: undefined\n      });\n    });\n    setEmailLogin(\"\");\n    setPasswordLogin(\"\");\n  };\n\n  useEffect(function () {\n    console.log(loginData);\n  }); // var axios = require('axios');\n  // var FormData = require('form-data');\n  // const handleChange = event => {\n  //   setFormData({\n  //     name: \"Token\",\n  //     value: '',\n  //   });\n  //   setFormData({\n  //     name: event.target.name,\n  //     value: event.target.value,\n  //   });\n  // }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"forms-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"signin-signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    class: \"sign-in-form\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    class: \"title\",\n    style: {\n      marginTop: '130px',\n      fontWeight: 600\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"Sign in\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \"New Here?\", React.createElement(Link, {\n    to: \"\".concat(process.env.PUBLIC_URL, \"/register\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \" Create an Account\")), React.createElement(\"div\", {\n    class: \"input-field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    class: \"fas fa-user\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"email\",\n    placeholder: \"Email\",\n    name: \"Email\",\n    required: \"required\",\n    value: emailLogin,\n    onChange: function onChange(e) {\n      return setEmailLogin(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    class: \"input-field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    class: \"fas fa-lock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    id: \"review\",\n    placeholder: \"Enter your password\",\n    required: \"required\",\n    value: passwordLogin,\n    name: \"Password\",\n    onChange: function onChange(e) {\n      return setPasswordLogin(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    onClick: function onClick() {\n      return LoginWeb();\n    },\n    class: \"btnasa btn-solid px-5 my-4\",\n    style: {\n      borderRadius: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, \"\\xA0\\xA0\\xA0\\xA0\\xA0Login\\xA0\\xA0\\xA0\\xA0\\xA0\"), React.createElement(\"p\", {\n    class: \"social-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, \"Or Sign in with social platforms\"), React.createElement(\"div\", {\n    class: \"row p-md-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, React.createElement(SocialButton, {\n    provider: \"facebook\",\n    appId: \"548484736126739\" //'199279227837108'\n    ,\n    onLoginSuccess: handleSocialLogin,\n    onLoginFailure: handleSocialLoginFailure,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, \"Facebook\"), React.createElement(SocialButton, {\n    provider: \"google\",\n    appId: \"469935774698-2omrtppqmp59pd1jfk54i0gmuiuujolg.apps.googleusercontent.com\",\n    onLoginSuccess: handleSocialLogin,\n    onLoginFailure: handleSocialLoginFailure,\n    key: 'google',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    class: \"fab-fa google\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, \" \\xA0 Google\"))))))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user.user,\n    country: state.filters.country\n  };\n};\n\nexport default connect(mapStateToProps)(signForm);","map":{"version":3,"sources":["C:\\Users\\D8\\Desktop\\Cool and Cool Pakistan - Shop Online_files\\src\\components\\pages\\login.js"],"names":["React","useReducer","useState","useEffect","store","custSignIn","userLoggedIn","socialLogin","Link","connect","SocialButton","axios","FormData","Api_Url","login_url","toast","handleSocialLogin","user","data","Email","_profile","email","Token","_token","accessToken","Channel","_provider","dispatch","handleSocialLoginFailure","err","console","error","formReducer","state","event","name","value","signForm","props","history","Object","keys","length","goBack","formData","setFormData","submitting","setSubmitting","handleSubmit","preventDefault","emailLogin","setEmailLogin","passwordLogin","setPasswordLogin","loginData","setLoginData","LoginWeb","log","append","config","method","url","headers","then","response","JSON","stringify","catch","bodyClassName","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","marginTop","fontWeight","process","env","PUBLIC_URL","e","target","borderRadius","mapStateToProps","country","filters"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,UAAT,EAAqBC,YAArB,EAAmCC,WAAnC,QAAsD,eAAtD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAO,aAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,OAAT,EAAkBC,SAAlB,QAAmC,2BAAnC;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AAGA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,IAAD,EAAU;AAElC,MAAIC,IAAI,GAAG;AACTC,IAAAA,KAAK,EAAEF,IAAI,CAACG,QAAL,CAAcC,KADZ;AAETC,IAAAA,KAAK,EAAEL,IAAI,CAACM,MAAL,CAAYC,WAFV;AAGTC,IAAAA,OAAO,EAAER,IAAI,CAACS,SAHL,CAMX;;AANW,GAAX;AAOAtB,EAAAA,KAAK,CAACuB,QAAN,CAAepB,WAAW,CAACW,IAAD,CAA1B;AACD,CAVD;;AAYA,IAAMU,wBAAwB,GAAG,SAA3BA,wBAA2B,CAACC,GAAD,EAAS;AACxCC,EAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,CAFD;;AAIA,IAAMG,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAQC,KAAR,EAAkB;AACpC,2BACKD,KADL,sBAEGC,KAAK,CAACC,IAFT,EAEgBD,KAAK,CAACE,KAFtB;AAID,CALD;;AASA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA,MAGfrB,IAHe,GAGGqB,KAHH,CAGfrB,IAHe;AAAA,MAGTsB,OAHS,GAGGD,KAHH,CAGTC,OAHS;AAIvBpC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIqC,MAAM,CAACC,IAAP,CAAYxB,IAAZ,EAAkByB,MAAlB,KAA6B,CAAjC,EAAoC;AAElCJ,MAAAA,KAAK,CAACC,OAAN,CAAcI,MAAd;AACD;AAEF,GANQ,EAMN,CAACL,KAAK,CAACrB,IAAP,CANM,CAAT;;AAJuB,oBAWShB,UAAU,CAAC+B,WAAD,EAAc,EAAd,CAXnB;AAAA;AAAA,MAWhBY,QAXgB;AAAA,MAWNC,WAXM;;AAAA,kBAYa3C,QAAQ,CAAC,KAAD,CAZrB;AAAA;AAAA,MAYhB4C,UAZgB;AAAA,MAYJC,aAZI;;AAcvB,MAAMC,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,iBAAMd,KAAN;AAAA;AAAA;AAAA;AAAA;AACnBA,cAAAA,KAAK,CAACe,cAAN;AAEA7C,cAAAA,KAAK,CAACuB,QAAN,CAAetB,UAAU,CAACuC,QAAD,CAAzB;;AAHmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZI,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAduB,mBAsBW9C,QAAQ,CAAC,EAAD,CAtBnB;AAAA;AAAA,MAsBlBgD,UAtBkB;AAAA,MAsBNC,aAtBM;;AAAA,mBAuBiBjD,QAAQ,CAAC,EAAD,CAvBzB;AAAA;AAAA,MAuBlBkD,aAvBkB;AAAA,MAuBHC,gBAvBG;;AAAA,mBAyBSnD,QAAQ,CAAC,EAAD,CAzBjB;AAAA;AAAA,MAyBlBoD,SAzBkB;AAAA,MAyBPC,YAzBO;;AA2BzB,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAK;AACtB1B,IAAAA,OAAO,CAAC2B,GAAR,CAAY,YAAZ,EAA2BP,UAA3B;AACApB,IAAAA,OAAO,CAAC2B,GAAR,CAAY,eAAZ,EAA8BL,aAA9B;AAGA,QAAIlC,IAAI,GAAG,IAAIN,QAAJ,EAAX;AACAM,IAAAA,IAAI,CAACwC,MAAL,CAAY,OAAZ,EAAqBR,UAArB;AACAhC,IAAAA,IAAI,CAACwC,MAAL,CAAY,UAAZ,EAAwBN,aAAxB;AAEA,QAAIO,MAAM,GAAG;AACXC,MAAAA,MAAM,EAAE,MADG;AAEXC,MAAAA,GAAG,EAAEhD,OAAO,GAAGC,SAFJ;AAGXgD,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAHE;AAMX5C,MAAAA,IAAI,EAAGA;AANI,KAAb;AASAP,IAAAA,KAAK,CAACgD,MAAD,CAAL,CACCI,IADD,CACM,UAAUC,QAAV,EAAoB;AACxB;AACAT,MAAAA,YAAY,CAACU,IAAI,CAACC,SAAL,CAAeF,QAAQ,CAAC9C,IAAxB,CAAD,CAAZ;AAED,KALD,EAMCiD,KAND,CAMO,UAAUpC,KAAV,EAAiB;AACtBD,MAAAA,OAAO,CAAC2B,GAAR,CAAY1B,KAAZ;AACAhB,MAAAA,KAAK,CAACgB,KAAN,CAAY,iBAAZ,EAA+B;AAC7BqC,QAAAA,aAAa,EAAE,OADc;AAE7BC,QAAAA,QAAQ,EAAE,WAFmB;AAG7BC,QAAAA,SAAS,EAAE,IAHkB;AAI7BC,QAAAA,eAAe,EAAE,KAJY;AAK7BC,QAAAA,YAAY,EAAE,IALe;AAM7BC,QAAAA,YAAY,EAAE,KANe;AAO7BC,QAAAA,SAAS,EAAE,KAPkB;AAQ7BC,QAAAA,QAAQ,EAAEC;AARmB,OAA/B;AAUD,KAlBD;AAuBAzB,IAAAA,aAAa,CAAC,EAAD,CAAb;AACAE,IAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACC,GA3CD;;AA6CAlD,EAAAA,SAAS,CAAC,YAAI;AACZ2B,IAAAA,OAAO,CAAC2B,GAAR,CAAYH,SAAZ;AACD,GAFQ,CAAT,CAxEyB,CA8EzB;AACA;AAeE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAK,IAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAC,iBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,KAAK,EAAC,cAAZ;AAA2B,IAAA,QAAQ,EAAEN,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,KAAK,EAAC,OAAV;AAAkB,IAAA,KAAK,EAAE;AAAE6B,MAAAA,SAAS,EAAE,OAAb;AAAsBC,MAAAA,UAAU,EAAE;AAAlC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE,oBAAC,IAAD;AAAM,IAAA,EAAE,YAAKC,OAAO,CAACC,GAAR,CAAYC,UAAjB,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,CAFF,EAME;AAAK,IAAA,KAAK,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAC,cAAzB;AAAwC,IAAA,EAAE,EAAC,OAA3C;AAAmD,IAAA,WAAW,EAAC,OAA/D;AAAuE,IAAA,IAAI,EAAC,OAA5E;AACE,IAAA,QAAQ,EAAC,UADX;AACsB,IAAA,KAAK,EAAE/B,UAD7B;AACyC,IAAA,QAAQ,EAAE,kBAACgC,CAAD;AAAA,aAAK/B,aAAa,CAAC+B,CAAC,CAACC,MAAF,CAAS/C,KAAV,CAAlB;AAAA,KADnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CANF,EAWE;AAAK,IAAA,KAAK,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,KAAK,EAAC,cAA7B;AAA4C,IAAA,EAAE,EAAC,QAA/C;AACE,IAAA,WAAW,EAAC,qBADd;AACoC,IAAA,QAAQ,EAAC,UAD7C;AACwD,IAAA,KAAK,EAAEgB,aAD/D;AAC8E,IAAA,IAAI,EAAC,UADnF;AAC8F,IAAA,QAAQ,EAAE,kBAAC8B,CAAD;AAAA,aAAK7B,gBAAgB,CAAC6B,CAAC,CAACC,MAAF,CAAS/C,KAAV,CAArB;AAAA,KADxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAXF,EAkBE;AAAQ,IAAA,OAAO,EAAE;AAAA,aAAIoB,QAAQ,EAAZ;AAAA,KAAjB;AAAiC,IAAA,KAAK,EAAC,4BAAvC;AAAoE,IAAA,KAAK,EAAE;AAAE4B,MAAAA,YAAY,EAAE;AAAhB,KAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAlBF,EAmBE;AAAG,IAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAnBF,EA+CE;AAAK,IAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD;AACE,IAAA,QAAQ,EAAC,UADX;AAEE,IAAA,KAAK,EAAC,iBAFR,CAEyB;AAFzB;AAGE,IAAA,cAAc,EAAEpE,iBAHlB;AAIE,IAAA,cAAc,EAAEY,wBAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EASE,oBAAC,YAAD;AACE,IAAA,QAAQ,EAAC,QADX;AAEE,IAAA,KAAK,EAAC,0EAFR;AAGE,IAAA,cAAc,EAAEZ,iBAHlB;AAIE,IAAA,cAAc,EAAEY,wBAJlB;AAKE,IAAA,GAAG,EAAE,QALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAG,IAAA,KAAK,EAAC,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPF,CATF,CA/CF,CADF,CADF,CADF,CAPF,CADF;AAsJD;;AACD,IAAMyD,eAAe,GAAG,SAAlBA,eAAkB,CAACpD,KAAD;AAAA,SAAY;AAClChB,IAAAA,IAAI,EAAEgB,KAAK,CAAChB,IAAN,CAAWA,IADiB;AAElCqE,IAAAA,OAAO,EAAErD,KAAK,CAACsD,OAAN,CAAcD;AAFW,GAAZ;AAAA,CAAxB;;AAMA,eAAe7E,OAAO,CAAC4E,eAAD,CAAP,CAAyBhD,QAAzB,CAAf","sourcesContent":["import React, { useReducer, useState, useEffect } from 'react';\r\nimport store from '../../store';\r\nimport { custSignIn, userLoggedIn, socialLogin } from '../../actions'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport SocialButton from './SocialButton'\r\nimport \"./login.css\";\r\nimport axios from 'axios';\r\nimport FormData from \"form-data\"\r\nimport { Api_Url, login_url } from '../../constants/Endpoints';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nconst handleSocialLogin = (user) => {\r\n\r\n  var data = {\r\n    Email: user._profile.email,\r\n    Token: user._token.accessToken,\r\n    Channel: user._provider\r\n  }\r\n\r\n  //store.dispatch(socialLogin(data,this.props.country));\r\n  store.dispatch(socialLogin(data));\r\n}\r\n\r\nconst handleSocialLoginFailure = (err) => {\r\n  console.error(err)\r\n}\r\n\r\nconst formReducer = (state, event) => {\r\n  return {\r\n    ...state,\r\n    [event.name]: event.value\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction signForm(props) {\r\n\r\n\r\n  const { user, history } = props;\r\n  useEffect(() => {\r\n    if (Object.keys(user).length !== 0) {\r\n\r\n      props.history.goBack();\r\n    }\r\n\r\n  }, [props.user]);\r\n  const [formData, setFormData] = useReducer(formReducer, {});\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n\r\n    store.dispatch(custSignIn(formData));\r\n\r\n\r\n  }\r\n\r\nconst [emailLogin, setEmailLogin] = useState(\"\");\r\nconst [passwordLogin, setPasswordLogin] = useState(\"\")\r\n\r\nconst [loginData, setLoginData] = useState([])\r\n\r\nconst LoginWeb = () =>{\r\nconsole.log(\"email ==> \" , emailLogin);\r\nconsole.log(\"password ==> \" , passwordLogin);\r\n\r\n\r\nvar data = new FormData();\r\ndata.append('email', emailLogin);\r\ndata.append('password', passwordLogin);\r\n\r\nvar config = {\r\n  method: 'post',\r\n  url: Api_Url + login_url,\r\n  headers: { \r\n    'Content-Type': 'application/json',\r\n  },\r\n  data : data\r\n};\r\n\r\naxios(config)\r\n.then(function (response) {\r\n  // console.log(JSON.stringify(response.data));\r\n  setLoginData(JSON.stringify(response.data))\r\n  \r\n})\r\n.catch(function (error) {\r\n  console.log(error);\r\n  toast.error('ðŸ¦„ Wow so easy!', {\r\n    bodyClassName: 'toast',\r\n    position: \"top-right\",\r\n    autoClose: 5000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: false,\r\n    draggable: false,\r\n    progress: undefined,\r\n    });\r\n});\r\n\r\n\r\n\r\n\r\nsetEmailLogin(\"\")\r\nsetPasswordLogin(\"\")\r\n}\r\n\r\nuseEffect(()=>{\r\n  console.log(loginData);\r\n})\r\n\r\n\r\n\r\n// var axios = require('axios');\r\n// var FormData = require('form-data');\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // const handleChange = event => {\r\n  //   setFormData({\r\n  //     name: \"Token\",\r\n  //     value: '',\r\n  //   });\r\n  //   setFormData({\r\n  //     name: event.target.name,\r\n  //     value: event.target.value,\r\n  //   });\r\n  // }\r\n\r\n  return (\r\n    <div>\r\n      {/* <Breadcrumb title={'Login'}/> */}\r\n\r\n\r\n      {/*Login section*/}\r\n\r\n\r\n      <div class=\"container\" >\r\n        <div class=\"forms-container\">\r\n          <div class=\"signin-signup\">\r\n            <form class=\"sign-in-form\" onSubmit={handleSubmit} >\r\n              <h2 class=\"title\" style={{ marginTop: '130px', fontWeight: 600 }}>Sign in</h2>\r\n              <p>New Here?\r\n\r\n                <Link to={`${process.env.PUBLIC_URL}/register`}> Create an Account</Link>\r\n              </p>\r\n              <div class=\"input-field\">\r\n                <i class=\"fas fa-user\"></i>\r\n                <input type=\"text\" class=\"form-control\" id=\"email\" placeholder=\"Email\" name=\"Email\"\r\n                  required=\"required\" value={emailLogin} onChange={(e)=>setEmailLogin(e.target.value)} />\r\n              </div>\r\n              <div class=\"input-field\">\r\n                <i class=\"fas fa-lock\"></i>\r\n                <input type=\"password\" class=\"form-control\" id=\"review\"\r\n                  placeholder=\"Enter your password\" required=\"required\" value={passwordLogin} name=\"Password\" onChange={(e)=>setPasswordLogin(e.target.value)} />\r\n              </div>\r\n              \r\n              {/* <input type=\"submit\" value=\"Login\" class=\"btn solid\" /> */}\r\n              <button onClick={()=>LoginWeb()} class=\"btnasa btn-solid px-5 my-4\" style={{ borderRadius: 8 }} >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Login&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>\r\n              <p class=\"social-text\">Or Sign in with social platforms</p>\r\n\r\n              {/* \r\n\r\n\r\n            <div class=\"social-media\">\r\n              <SocialButton class=\"social-icon\"\r\n              provider='google'\r\n                                  appId='469935774698-2omrtppqmp59pd1jfk54i0gmuiuujolg.apps.googleusercontent.com'\r\n                                  onLoginSuccess={handleSocialLogin}\r\n                                  onLoginFailure={handleSocialLoginFailure}\r\n                                  key={'google'}>\r\n                <i class=\"fab fa-google\">&nbsp; Google</i>\r\n              </SocialButton>\r\n            \r\n              <SocialButton class=\"social-icon\"\r\n              provider='facebook'\r\n              appId='548484736126739'//'199279227837108' \r\n              onLoginSuccess={handleSocialLogin}\r\n              onLoginFailure={handleSocialLoginFailure}\r\n              key={\"facebook\"}\r\n              >\r\n                \r\n                <i class=\"fab fa-facebook-f\">&nbsp; Facebook</i>\r\n              </SocialButton>\r\n            \r\n            </div> */}\r\n\r\n              <div class=\"row p-md-4\">\r\n                <SocialButton\r\n                  provider='facebook'\r\n                  appId='548484736126739'//'199279227837108'\r\n                  onLoginSuccess={handleSocialLogin}\r\n                  onLoginFailure={handleSocialLoginFailure}\r\n                >\r\n                  Facebook\r\n                </SocialButton>\r\n                <SocialButton\r\n                  provider='google'\r\n                  appId='469935774698-2omrtppqmp59pd1jfk54i0gmuiuujolg.apps.googleusercontent.com'\r\n                  onLoginSuccess={handleSocialLogin}\r\n                  onLoginFailure={handleSocialLoginFailure}\r\n                  key={'google'}\r\n                >\r\n                  <i class=\"fab-fa google\"> &nbsp; Google</i>\r\n                </SocialButton>\r\n              </div>\r\n\r\n            </form>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n      {/* <section class=\"login-page section-b-space\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6\">\r\n                    <h3>Login</h3>\r\n                    <div class=\"theme-card\">\r\n                        <form class=\"theme-form\" onSubmit={handleSubmit}>\r\n                            <div class=\"form-group\">\r\n                                <label htmlFor=\"email\">Email</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"email\" placeholder=\"Email\" name=\"Email\"\r\n                                       required=\"required\"  onChange={handleChange} />\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                              <label htmlFor=\"review\">Password</label>\r\n                                <input type=\"password\" class=\"form-control\" id=\"review\"\r\n                                       placeholder=\"Enter your password\" required=\"required\"  name=\"Password\"  onChange={handleChange}  />\r\n                            </div>\r\n                            <div class=\"form-group d-flex justify-content-center \">\r\n                            <button type=\"submit\" class=\"btn btn-solid px-5\">Login</button>\r\n                            </div>\r\n                        </form>\r\n                        <div class=\"row p-md-4\">\r\n                                <SocialButton\r\n                                provider='facebook'\r\n                                appId='548484736126739'//'199279227837108' \r\n                                onLoginSuccess={handleSocialLogin}\r\n                                onLoginFailure={handleSocialLoginFailure}\r\n                                >\r\n                                 Facebook\r\n                                </SocialButton>\r\n                                <SocialButton\r\n                                    provider='google'\r\n                                    appId='469935774698-2omrtppqmp59pd1jfk54i0gmuiuujolg.apps.googleusercontent.com'\r\n                                    onLoginSuccess={handleSocialLogin}\r\n                                    onLoginFailure={handleSocialLoginFailure}\r\n                                    key={'google'}\r\n                                \r\n                                    >\r\n                                     Google\r\n                                </SocialButton>\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-6 right-login\">\r\n                    <h3>New Customer</h3>\r\n                    <div class=\"theme-card authentication-right\">\r\n                        <h6 class=\"title-font\">Create A Account</h6>\r\n                        <p>Sign up for a free account at our store. Registration is quick and easy. It\r\n                            allows you to be able to order from our shop. To start shopping click\r\n                            register.</p>\r\n                            <Link to={`${process.env.PUBLIC_URL}/register`} class=\"btn btn-solid\">Create an Account</Link>\r\n                \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section> */}\r\n\r\n    </div>\r\n\r\n  )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user.user,\r\n  country: state.filters.country\r\n\r\n\r\n})\r\nexport default connect(mapStateToProps)(signForm);"]},"metadata":{},"sourceType":"module"}